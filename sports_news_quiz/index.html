<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Daily Nebraskan News Quiz</title>
    <!-- Load Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        'nebraska-red': '#D00000',
                        'nebraska-black': '#000000',
                        'off-white': '#f8f9fa',
                    },
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    }
                }
            }
        }
    </script>
    <style>
        /* Custom styles for better readability and aesthetics */
        body {
            background-color: #f8f9fa;
        }
        .card {
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s ease-in-out;
        }
        .question-card {
            border-left: 4px solid #D00000;
        }
        .radio-label {
            display: block;
            padding: 1rem;
            margin-bottom: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.5rem;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
            background-color: white;
        }
        .radio-label:hover {
            background-color: #f0f4f8;
        }
        input[type="radio"]:checked + .radio-label {
            background-color: #ffe5e5; /* Light red background */
            border-color: #D00000;
        }
        .score-correct {
            background-color: #d1fae5; /* Green */
            border-color: #059669;
        }
        .score-incorrect {
            background-color: #fee2e2; /* Red */
            border-color: #ef4444;
        }
    </style>
</head>
<body class="min-h-screen flex items-center justify-center p-4">

    <!-- Main Quiz Container -->
    <div id="quiz-container" class="w-full max-w-2xl bg-off-white p-6 md:p-10 rounded-xl card my-8">
        <header class="text-center mb-8">
            <h1 class="text-3xl md:text-4xl font-bold text-nebraska-black">The Daily Nebraskan Quiz</h1>
            <h2 class="text-xl text-nebraska-red font-semibold mt-1">Football Bowl Eligibility Edition</h2>
            <p class="text-gray-600 mt-2">Test your knowledge on the key takeaways from the latest game.</p>
        </header>

        <!-- Quiz Form - Populated by JavaScript -->
        <form id="quiz-form">
            <!-- Questions will be injected here -->
        </form>

        <!-- Submit Button -->
        <div id="submit-section" class="mt-8 text-center">
            <button id="submit-btn" class="w-full py-3 px-6 bg-nebraska-red text-white font-bold rounded-lg hover:bg-red-700 transition duration-300 transform hover:scale-[1.01] shadow-lg disabled:opacity-50" onclick="submitQuiz()">
                Submit Answers
            </button>
        </div>

        <!-- Result Section (Hidden until quiz is submitted) -->
        <div id="results" class="hidden mt-8 p-6 bg-white rounded-lg border-2 border-nebraska-red">
            <h3 class="text-2xl font-bold text-nebraska-black mb-4 border-b pb-2">Your Results</h3>
            <p id="score-text" class="text-3xl font-extrabold text-nebraska-red mb-4"></p>
            <div id="feedback-container" class="space-y-4">
                <!-- Feedback for each question will be injected here -->
            </div>
            <button class="mt-6 w-full py-2 bg-nebraska-black text-white font-bold rounded-lg hover:bg-gray-800 transition duration-300" onclick="startQuiz()">
                Try Again
            </button>
        </div>

    </div>

    <script>
        // The full JSON data containing all 20 questions
        const QUIZ_DATA = {
            "quiz_questions": [
                { "id": 1, "question": "Nebraska initially led the game 24-6 in the third quarter.", "type": "True/False", "answer": "False", "explanation": "The initial lead was 21-6." },
                { "id": 2, "question": "Northwestern outgained the Huskers in total yards and dominated on the ground.", "type": "True/False", "answer": "True", "explanation": "The article confirms Northwestern 'outgaining the Huskers in total yards and dominating on the ground.'" },
                { "id": 3, "question": "An interception by Northwestern's Preston Stone gave the Wildcats the lead in the fourth quarter.", "type": "True/False", "answer": "False", "explanation": "An interception from Dylan Raiola set the Wildcats up, but an 'even worse pick from Preston Stone' gave the Huskers another chance." },
                { "id": 4, "question": "The game-winning drive for Nebraska covered 64 yards and included 13 plays.", "type": "True/False", "answer": "True", "explanation": "The final drive was described as 'The 13-play, 64-yard drive.'" },
                { "id": 5, "question": "After the loss to Minnesota, the heart of Nebraska players and coaches was questioned.", "type": "True/False", "answer": "True", "explanation": "The article states, 'After a 24-6 loss to Minnesota last week, the heart of Nebraska players and coaches were questioned.'" },
                { "id": 6, "question": "Nebraska's head coach, Matt Rhule, said the team didn't even mention achieving bowl eligibility after the win.", "type": "True/False", "answer": "True", "explanation": "Rhule's quote confirms, 'We didn’t even mention it (this time).'" },
                { "id": 7, "question": "The Huskers ran the ball only 16 times against Northwestern, emphasizing the pass game.", "type": "True/False", "answer": "False", "explanation": "Nebraska ran the ball 39 times compared to 22 throws." },
                { "id": 8, "question": "Emmett Johnson tied his season-high with 14 carries in the game.", "type": "True/False", "answer": "False", "explanation": "Johnson 'erupted for a season-high 27 carries,' compared to 14 at Minnesota." },
                { "id": 9, "question": "Dylan Raiola reportedly 'didn't pout or anything' after his interception, according to a teammate.", "type": "True/False", "answer": "True", "explanation": "The article includes this direct quote from a teammate." },
                { "id": 10, "question": "The Nebraska offensive line allowed a total of nine sacks in the win over Northwestern.", "type": "True/False", "answer": "False", "explanation": "The line allowed nine sacks the week before but only one sack against Northwestern." },
                { "id": 11, "question": "What player scored the game-winning touchdown for Nebraska?", "type": "Multiple Choice", "options": ["A. Dylan Raiola", "B. Emmett Johnson", "C. Nyziah Hunter", "D. Kenneth Williams"], "answer": "B", "explanation": "The drive was 'capped off by a four-yard touchdown run from Emmett Johnson'." },
                { "id": 12, "question": "The game-winning drive was capped off by a touchdown run of how many yards?", "type": "Multiple Choice", "options": ["A. 1 yard", "B. 2 yards", "C. 3 yards", "D. 4 yards"], "answer": "D", "explanation": "The touchdown run was a 'four-yard touchdown run from Emmett Johnson'." },
                { "id": 13, "question": "What team did Nebraska lose to the week before the Northwestern game?", "type": "Multiple Choice", "options": ["A. Wisconsin", "B. Minnesota", "C. Iowa", "D. Michigan"], "answer": "B", "explanation": "The article mentions the '24-6 loss to Minnesota last week.'" },
                { "id": 14, "question": "How did Nebraska's offense run the ball compared to throwing it against Northwestern?", "type": "Multiple Choice", "options": ["A. They threw it more than they ran it.", "B. They ran and threw it an equal number of times.", "C. They threw it twice as many times as they ran it.", "D. They ran it more than they threw it."], "answer": "D", "explanation": "The Huskers ran the ball 39 times compared to just 22 throws." },
                { "id": 15, "question": "On the final, game-winning drive, Dylan Raiola connected on how many third-down conversions?", "type": "Multiple Choice", "options": ["A. One", "B. Two", "C. Three", "D. Four"], "answer": "D", "explanation": "Raiola 'connected on all four third-down conversions' on the final drive." },
                { "id": 16, "question": "What was the *honorable mark* for the offensive line's improvement against Northwestern?", "type": "Multiple Choice", "options": ["A. They paved the way for a 100-yard rusher.", "B. They allowed no quarterback hurries.", "C. They went from allowing nine sacks to one sack.", "D. They started a new right tackle."], "answer": "C", "explanation": "The offensive line allowed only one sack, a quick turnaround from allowing nine a week ago." },
                { "id": 17, "question": "The 'Blackshirt defense' forced how many interceptions in the game?", "type": "Multiple Choice", "options": ["A. Zero", "B. One", "C. Two", "D. Three"], "answer": "C", "explanation": "John Butler’s unit forced two huge picks." },
                { "id": 18, "question": "What was the net result of the two forced turnovers by the Husker defense?", "type": "Multiple Choice", "options": ["A. 3 points", "B. 7 points", "C. 14 points", "D. 21 points"], "answer": "C", "explanation": "The two huge picks resulted in '14 Husker points.'" },
                { "id": 19, "question": "Which player's special teams play 'ignited the Huskers' with a 95-yard kick return touchdown?", "type": "Multiple Choice", "options": ["A. Emmett Johnson", "B. Donovan Jones", "C. Archie Wilson", "D. Kenneth Williams"], "answer": "D", "explanation": "Kenneth Williams’ 95-yard kick return touchdown... ignited the Huskers." },
                { "id": 20, "question": "After the win, how many regular season games does Nebraska have remaining with bigger aspirations ahead?", "type": "Multiple Choice", "options": ["A. One", "B. Two", "C. Three", "D. Four"], "answer": "D", "explanation": "The Huskers now can play freely for the last four regular season games." }
            ]
        };

        const NUM_QUESTIONS = 5;
        let selectedQuestions = [];

        /**
         * Shuffles an array using the Fisher-Yates algorithm.
         * @param {Array} array - The array to shuffle.
         * @returns {Array} The shuffled array.
         */
        function shuffleArray(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        /**
         * Starts the quiz by selecting random questions and rendering the form.
         */
        function startQuiz() {
            // Hide results and show form/submit button
            document.getElementById('results').classList.add('hidden');
            document.getElementById('quiz-form').classList.remove('hidden');
            document.getElementById('submit-section').classList.remove('hidden');

            // 1. Select 5 random questions
            const shuffled = shuffleArray([...QUIZ_DATA.quiz_questions]);
            selectedQuestions = shuffled.slice(0, NUM_QUESTIONS);

            // 2. Render the questions
            renderQuestions();
        }

        /**
         * Renders the question form based on the selectedQuestions array.
         */
        function renderQuestions() {
            const form = document.getElementById('quiz-form');
            form.innerHTML = ''; // Clear previous questions

            selectedQuestions.forEach((q, index) => {
                const questionNumber = index + 1;
                const questionHtml = `
                    <div class="mb-6 p-4 bg-white rounded-lg question-card" id="q-${index}">
                        <p class="text-lg font-semibold text-nebraska-black mb-3">
                            <span class="text-nebraska-red font-extrabold mr-1">${questionNumber}.</span> ${q.question}
                        </p>
                        ${q.type === 'True/False' ? renderTrueFalseOptions(q, index) : renderMultipleChoiceOptions(q, index)}
                        <p class="text-sm mt-3 hidden text-gray-700" id="feedback-${index}"></p>
                    </div>
                `;
                form.innerHTML += questionHtml;
            });
        }

        /**
         * Generates HTML for True/False options.
         */
        function renderTrueFalseOptions(question, index) {
            const name = `q${index}`;
            return `
                <div class="space-y-2">
                    <input type="radio" id="${name}-true" name="${name}" value="True" class="hidden">
                    <label for="${name}-true" class="radio-label">True</label>

                    <input type="radio" id="${name}-false" name="${name}" value="False" class="hidden">
                    <label for="${name}-false" class="radio-label">False</label>
                </div>
            `;
        }

        /**
         * Generates HTML for Multiple Choice options.
         */
        function renderMultipleChoiceOptions(question, index) {
            const name = `q${index}`;
            const options = ['A', 'B', 'C', 'D']; // Assuming all MC have 4 options A, B, C, D
            return `
                <div class="space-y-2">
                    ${question.options.map((optionText, optionIndex) => `
                        <input type="radio" id="${name}-${options[optionIndex]}" name="${name}" value="${options[optionIndex]}" class="hidden">
                        <label for="${name}-${options[optionIndex]}" class="radio-label">${optionText}</label>
                    `).join('')}
                </div>
            `;
        }

        /**
         * Handles the quiz submission, scoring, and rendering results.
         */
        function submitQuiz() {
            let score = 0;
            const feedbackContainer = document.getElementById('feedback-container');
            feedbackContainer.innerHTML = ''; // Clear previous feedback

            selectedQuestions.forEach((q, index) => {
                const name = `q${index}`;
                const questionElement = document.getElementById(`q-${index}`);
                const feedbackElement = document.getElementById(`feedback-${index}`);

                // Get the user's selected answer
                const userAnswer = document.querySelector(`input[name="${name}"]:checked`)?.value;
                const isCorrect = userAnswer === q.answer;

                // Reset card classes
                questionElement.classList.remove('score-correct', 'score-incorrect');

                // Apply correct/incorrect styling and count score
                if (isCorrect) {
                    score++;
                    questionElement.classList.add('score-correct');
                } else if (userAnswer) {
                    questionElement.classList.add('score-incorrect');
                } else {
                    // Handle unanswered
                }

                // Show detailed feedback in the results section
                const correctOptionText = q.type === 'Multiple Choice'
                    ? q.options.find(opt => opt.startsWith(q.answer)).substring(3)
                    : q.answer;

                const feedbackHtml = `
                    <div class="p-3 rounded-lg ${isCorrect ? 'bg-green-50 border-green-300' : 'bg-red-50 border-red-300'} border">
                        <p class="font-semibold">${index + 1}. ${q.question}</p>
                        ${isCorrect
                            ? `<p class="text-green-700 mt-1">✓ Correct! Your answer was: ${userAnswer}</p>`
                            : `<p class="text-red-700 mt-1">✗ Incorrect. The correct answer was: <span class="font-bold">${correctOptionText}</span></p>`
                        }
                        <p class="text-sm text-gray-600 mt-2 italic">
                            ${q.explanation}
                        </p>
                    </div>
                `;
                feedbackContainer.innerHTML += feedbackHtml;

                // Disable all radio buttons after submission
                document.querySelectorAll(`input[name="${name}"]`).forEach(input => input.disabled = true);
            });

            // Update score text
            const percentage = ((score / NUM_QUESTIONS) * 100).toFixed(0);
            document.getElementById('score-text').textContent = `You scored ${score} out of ${NUM_QUESTIONS} (${percentage}%)`;

            // Display results and hide quiz form/submit button
            document.getElementById('quiz-form').classList.add('hidden');
            document.getElementById('submit-section').classList.add('hidden');
            document.getElementById('results').classList.remove('hidden');

            // Scroll to the results
            document.getElementById('results').scrollIntoView({ behavior: 'smooth' });
        }

        // Start the quiz when the window loads
        window.onload = startQuiz;
    </script>

</body>
</html>
